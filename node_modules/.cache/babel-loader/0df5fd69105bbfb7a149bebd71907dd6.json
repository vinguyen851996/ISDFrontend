{"ast":null,"code":"import _slicedToArray from\"C:/Users/Thuc Vi/Desktop/ISDFrontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{AppBar,Toolbar,IconButton,Menu,MenuItem}from'@mui/material';import{useTheme}from'@mui/material';import{Menu as MenuIcon,Person as AccountIcon,ArrowBack as ArrowBackIcon}from'@mui/icons-material';import classNames from'classnames';//images\n// import profile from '../../images/main-profile.png';\n// import config from '../../config';\n// styles\nimport useStyles from'./styles';// components\nimport{Typography,Avatar}from'../Wrappers/Wrappers';// context\nimport{useLayoutState,useLayoutDispatch,toggleSidebar}from'../context/LayoutContext';// import {\n//   useManagementDispatch,\n//   useManagementState,\n// } from '../../context/ManagementContext';\n// import { actions } from '../../context/ManagementContext';\nimport{useUserDispatch,signOut}from'../context/UserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Header(props){var _currentUser$firstNam;var classes=useStyles();var theme=useTheme();// global\nvar layoutState=useLayoutState();var layoutDispatch=useLayoutDispatch();var userDispatch=useUserDispatch();// const managementDispatch = useManagementDispatch();\n// local\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),profileMenu=_useState2[0],setProfileMenu=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),currentUser=_useState4[0],setCurrentUser=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isSmall=_useState6[0],setSmall=_useState6[1];// const managementValue = useManagementState();\n// useEffect(() => {\n//   actions.doFind(sessionStorage.getItem('user_id'))(managementDispatch);\n//   // eslint-disable-next-line react-hooks/exhaustive-deps\n// }, []);\n// useEffect(() => {\n//   if (config.isBackend) {\n//     setCurrentUser(managementValue.currentUser);\n//   }\n// }, [managementValue]);\nuseEffect(function(){window.addEventListener('resize',handleWindowWidthChange);handleWindowWidthChange();return function cleanup(){window.removeEventListener('resize',handleWindowWidthChange);};});function handleWindowWidthChange(){var windowWidth=window.innerWidth;var breakpointWidth=theme.breakpoints.values.md;var isSmallScreen=windowWidth<breakpointWidth;setSmall(isSmallScreen);}return/*#__PURE__*/_jsx(AppBar,{position:\"fixed\",className:classes.appBar,children:/*#__PURE__*/_jsxs(Toolbar,{className:classes.toolbar,children:[/*#__PURE__*/_jsx(IconButton,{color:\"inherit\",onClick:function onClick(){return toggleSidebar(layoutDispatch);},className:classNames(classes.headerMenuButton,classes.headerMenuButtonCollapse),children:!layoutState.isSidebarOpened&&isSmall||layoutState.isSidebarOpened&&!isSmall?/*#__PURE__*/_jsx(ArrowBackIcon,{classes:{root:classNames(classes.headerIcon,classes.headerIconCollapse)}}):/*#__PURE__*/_jsx(MenuIcon,{classes:{root:classNames(classes.headerIcon,classes.headerIconCollapse)}})}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",weight:\"medium\",className:classes.logotype,children:\"React Material Admin Full\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.grow}),/*#__PURE__*/_jsx(IconButton,{\"aria-haspopup\":\"true\",color:\"inherit\",className:classes.headerMenuButton,\"aria-controls\":\"profile-menu\",onClick:function onClick(e){return setProfileMenu(e.currentTarget);},children:/*#__PURE__*/_jsx(Avatar,{alt:currentUser===null||currentUser===void 0?void 0:currentUser.firstName// eslint-disable-next-line no-mixed-operators\n// src={\n//   (currentUser?.avatar?.length >= 1 &&\n//   currentUser?.avatar[currentUser.avatar.length - 1].publicUrl) || profile\n// }\n,classes:{root:classes.headerIcon},children:currentUser===null||currentUser===void 0?void 0:(_currentUser$firstNam=currentUser.firstName)===null||_currentUser$firstNam===void 0?void 0:_currentUser$firstNam[0]})}),/*#__PURE__*/_jsxs(Typography,{block:true,style:{display:'flex',alignItems:'center',marginLeft:8},children:[/*#__PURE__*/_jsx(\"div\",{className:classes.profileLabel,children:\"Hi,\\xA0\"}),/*#__PURE__*/_jsx(Typography,{weight:'bold',className:classes.profileLabel,children:currentUser===null||currentUser===void 0?void 0:currentUser.firstName})]}),/*#__PURE__*/_jsxs(Menu,{id:\"profile-menu\",open:Boolean(profileMenu),anchorEl:profileMenu,onClose:function onClose(){return setProfileMenu(null);},className:classes.headerMenu,classes:{paper:classes.profileMenu},disableAutoFocusItem:true,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.profileMenuUser,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",weight:\"medium\",children:currentUser===null||currentUser===void 0?void 0:currentUser.firstName}),/*#__PURE__*/_jsx(Typography,{className:classes.profileMenuLink,component:\"a\",color:\"primary\",href:\"https://flatlogic.com\",children:\"Flatlogic.com\"})]}),/*#__PURE__*/_jsxs(MenuItem,{className:classNames(classes.profileMenuItem,classes.headerMenuItem),children:[/*#__PURE__*/_jsx(AccountIcon,{className:classes.profileMenuIcon}),/*#__PURE__*/_jsx(Link,{to:\"/app/user/edit\",style:{textDecoration:'none'},children:\"Profile\"})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.profileMenuUser,children:/*#__PURE__*/_jsx(Typography,{className:classes.profileMenuLink,color:\"primary\",onClick:function onClick(){return signOut(userDispatch,props.history);},children:\"Sign Out\"})})]})]})});}","map":{"version":3,"names":["React","useState","useEffect","Link","AppBar","Toolbar","IconButton","Menu","MenuItem","useTheme","MenuIcon","Person","AccountIcon","ArrowBack","ArrowBackIcon","classNames","useStyles","Typography","Avatar","useLayoutState","useLayoutDispatch","toggleSidebar","useUserDispatch","signOut","Header","props","classes","theme","layoutState","layoutDispatch","userDispatch","profileMenu","setProfileMenu","currentUser","setCurrentUser","isSmall","setSmall","window","addEventListener","handleWindowWidthChange","cleanup","removeEventListener","windowWidth","innerWidth","breakpointWidth","breakpoints","values","md","isSmallScreen","appBar","toolbar","headerMenuButton","headerMenuButtonCollapse","isSidebarOpened","root","headerIcon","headerIconCollapse","logotype","grow","e","currentTarget","firstName","display","alignItems","marginLeft","profileLabel","Boolean","headerMenu","paper","profileMenuUser","profileMenuLink","profileMenuItem","headerMenuItem","profileMenuIcon","textDecoration","history"],"sources":["C:/Users/Thuc Vi/Desktop/ISDFrontend/src/components/Core/Header/Header.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { AppBar, Toolbar, IconButton, Menu, MenuItem } from '@mui/material';\nimport { useTheme } from '@mui/material';\nimport {\n  Menu as MenuIcon,\n  Person as AccountIcon,\n  ArrowBack as ArrowBackIcon,\n} from '@mui/icons-material';\nimport classNames from 'classnames';\n\n//images\n// import profile from '../../images/main-profile.png';\n// import config from '../../config';\n\n// styles\nimport useStyles from './styles';\n\n// components\nimport { Typography, Avatar } from '../Wrappers/Wrappers';\n\n// context\nimport {\n  useLayoutState,\n  useLayoutDispatch,\n  toggleSidebar,\n} from '../context/LayoutContext';\n// import {\n//   useManagementDispatch,\n//   useManagementState,\n// } from '../../context/ManagementContext';\n\n// import { actions } from '../../context/ManagementContext';\nimport { useUserDispatch, signOut } from '../context/UserContext';\n\nexport default function Header(props) {\n  let classes = useStyles();\n  let theme = useTheme();\n\n  // global\n  let layoutState = useLayoutState();\n  let layoutDispatch = useLayoutDispatch();\n  let userDispatch = useUserDispatch();\n  // const managementDispatch = useManagementDispatch();\n\n  // local\n  const [profileMenu, setProfileMenu] = useState(null);\n  const [currentUser, setCurrentUser] = useState();\n  const [isSmall, setSmall] = useState(false);\n\n  // const managementValue = useManagementState();\n\n  // useEffect(() => {\n  //   actions.doFind(sessionStorage.getItem('user_id'))(managementDispatch);\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\n  // }, []);\n\n  // useEffect(() => {\n  //   if (config.isBackend) {\n  //     setCurrentUser(managementValue.currentUser);\n  //   }\n  // }, [managementValue]);\n\n  useEffect(function () {\n    window.addEventListener('resize', handleWindowWidthChange);\n    handleWindowWidthChange();\n    return function cleanup() {\n      window.removeEventListener('resize', handleWindowWidthChange);\n    };\n  });\n\n  function handleWindowWidthChange() {\n    let windowWidth = window.innerWidth;\n    let breakpointWidth = theme.breakpoints.values.md;\n    let isSmallScreen = windowWidth < breakpointWidth;\n    setSmall(isSmallScreen);\n  }\n\n  return (\n    <AppBar position='fixed' className={classes.appBar}>\n      <Toolbar className={classes.toolbar}>\n        <IconButton\n          color='inherit'\n          onClick={() => toggleSidebar(layoutDispatch)}\n          className={classNames(\n            classes.headerMenuButton,\n            classes.headerMenuButtonCollapse,\n          )}\n        >\n          {(!layoutState.isSidebarOpened && isSmall) ||\n          (layoutState.isSidebarOpened && !isSmall) ? (\n            <ArrowBackIcon\n              classes={{\n                root: classNames(\n                  classes.headerIcon,\n                  classes.headerIconCollapse,\n                ),\n              }}\n            />\n          ) : (\n            <MenuIcon\n              classes={{\n                root: classNames(\n                  classes.headerIcon,\n                  classes.headerIconCollapse,\n                ),\n              }}\n            />\n          )}\n        </IconButton>\n        <Typography variant='h6' weight='medium' className={classes.logotype}>\n          React Material Admin Full\n        </Typography>\n        <div className={classes.grow} />\n        <IconButton\n          aria-haspopup='true'\n          color='inherit'\n          className={classes.headerMenuButton}\n          aria-controls='profile-menu'\n          onClick={(e) => setProfileMenu(e.currentTarget)}\n        >\n          <Avatar\n            alt={currentUser?.firstName}\n            // eslint-disable-next-line no-mixed-operators\n            // src={\n            //   (currentUser?.avatar?.length >= 1 &&\n            //   currentUser?.avatar[currentUser.avatar.length - 1].publicUrl) || profile\n            // }\n            classes={{ root: classes.headerIcon }}\n          >\n            {currentUser?.firstName?.[0]}\n          </Avatar>\n        </IconButton>\n        <Typography\n          block\n          style={{ display: 'flex', alignItems: 'center', marginLeft: 8 }}\n        >\n          <div className={classes.profileLabel}>Hi,&nbsp;</div>\n          <Typography weight={'bold'} className={classes.profileLabel}>\n            {currentUser?.firstName}\n          </Typography>\n        </Typography>\n        <Menu\n          id='profile-menu'\n          open={Boolean(profileMenu)}\n          anchorEl={profileMenu}\n          onClose={() => setProfileMenu(null)}\n          className={classes.headerMenu}\n          classes={{ paper: classes.profileMenu }}\n          disableAutoFocusItem\n        >\n          <div className={classes.profileMenuUser}>\n            <Typography variant='h4' weight='medium'>\n              {currentUser?.firstName}\n            </Typography>\n            <Typography\n              className={classes.profileMenuLink}\n              component='a'\n              color='primary'\n              href='https://flatlogic.com'\n            >\n              Flatlogic.com\n            </Typography>\n          </div>\n          <MenuItem\n            className={classNames(\n              classes.profileMenuItem,\n              classes.headerMenuItem,\n            )}\n          >\n            <AccountIcon className={classes.profileMenuIcon} />\n            <Link to='/app/user/edit' style={{ textDecoration: 'none' }}>\n              Profile\n            </Link>\n          </MenuItem>\n          <div className={classes.profileMenuUser}>\n            <Typography\n              className={classes.profileMenuLink}\n              color='primary'\n              onClick={() => signOut(userDispatch, props.history)}\n            >\n              Sign Out\n            </Typography>\n          </div>\n        </Menu>\n      </Toolbar>\n    </AppBar>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}